(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{106:function(e,t,n){e.exports={my_loader:"Spinner_my_loader__2CzZS",animateBg:"Spinner_animateBg__3ofeo",loader:"Spinner_loader__1ffBO",animates:"Spinner_animates__3C9ME"}},107:function(e,t,n){e.exports={login_block:"Header_login_block__1hnox",img:"Header_img__2T7Ru",login_name:"Header_login_name__YlBuN",log_out:"Header_log_out__1EriH"}},127:function(e,t,n){e.exports={formControl:"FormContrrols_formControl__3KuHY",error:"FormContrrols_error__vjXfR"}},130:function(e,t,n){e.exports={item:"Posts_item__1RnoC",message:"Posts_message__19Mzt"}},171:function(e,t,n){e.exports={content:"ProfileComponent_content__2MTFp"}},218:function(e,t,n){},22:function(e,t,n){e.exports={content_header_img:"ProfileInfo_content_header_img__3pP2L",user:"ProfileInfo_user__2c-pt",avatar_wrapper:"ProfileInfo_avatar_wrapper__gLD5l",avatar:"ProfileInfo_avatar__2sK1K",user_prof:"ProfileInfo_user_prof__3Pe0A",name:"ProfileInfo_name__2aiRd",desc:"ProfileInfo_desc__1cw96",contact:"ProfileInfo_contact__il_j2",contact_title:"ProfileInfo_contact_title__2PQdX",jobs:"ProfileInfo_jobs__15HaM",jobs_wrapper:"ProfileInfo_jobs_wrapper__31-mI",jobs_title:"ProfileInfo_jobs_title__2ZoeX"}},28:function(e,t,n){e.exports={Users:"Users_Users__3-inL",Users_item:"Users_Users_item__GHLn5",img_wrapper:"Users_img_wrapper__y7LAn",img:"Users_img__8OKTI",follow:"Users_follow__1xdIa",mes_wrapper:"Users_mes_wrapper__16Y7W",name_wrapper:"Users_name_wrapper__3-Qed",status:"Users_status__1b_3Y",city_wrapper:"Users_city_wrapper__3pouO",city:"Users_city__GmHCV",selectPage:"Users_selectPage__2dHPD",list_users:"Users_list_users__rtXoQ"}},343:function(e,t,n){},346:function(e,t,n){"use strict";n.r(t);var a,s=n(1),r=n(0),c=n.n(r),o=n(26),i=n.n(o),l=(n(218),n(43)),u=n(44),j=n(49),d=n(48),b=n(30),O=n(12),p=n(59),_=n(6),f=n(351),h={dialogs:[{id:Object(f.a)(),name:"Yuri"},{id:Object(f.a)(),name:"Grish"},{id:Object(f.a)(),name:"Masha"},{id:Object(f.a)(),name:"Petro"},{id:Object(f.a)(),name:"dds"},{id:Object(f.a)(),name:"Ula"}],messages:[{id:Object(f.a)(),message:"Hi"},{id:Object(f.a)(),message:"Bro"},{id:Object(f.a)(),message:"Buy"},{id:Object(f.a)(),message:"Ear"},{id:Object(f.a)(),message:"Pop"}]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MES":var n={id:Object(f.a)(),message:t.message};return Object(_.a)(Object(_.a)({},e),{},{messages:[].concat(Object(p.a)(e.messages),[n])});default:return e}},g=n(19),x=n(62),v=n.n(x),S=n(84),P=n.n(S),T=function(e){var t=e.dialogs.map((function(e){var t=e.name,n=e.id;return Object(s.jsxs)("div",{className:P.a.item,children:[Object(s.jsx)("div",{className:P.a.avatar,children:" "}),Object(s.jsxs)(b.c,{to:"/dialogs/"+n,children:[" ",t]})]},n)}));return Object(s.jsx)("div",{className:P.a.names,children:Object(s.jsx)("div",{className:P.a.dialog_items,children:t})})},w=n(63),N=n.n(w),E=function(e){var t=e.messages.map((function(e){var t=e.id,n=e.message;return Object(s.jsxs)("div",{className:N.a.wrap,children:[Object(s.jsxs)("div",{className:N.a.person,children:[Object(s.jsx)("div",{className:N.a.person_img,children:Object(s.jsx)("img",{alt:"ava",src:"https://yt3.ggpht.com/a-/AAuE7mCbfWojLQOCaK9L9GFGYos67xBELhYnV0Rcuw=s800-mo-c-c0xffffffff-rj-k-no"})}),Object(s.jsx)("div",{className:N.a.person_title,children:"My"})]}),Object(s.jsx)("div",{className:N.a.text,children:n})]},t)}));return Object(s.jsx)("div",{className:N.a.message,children:t})},y=n(164),C=n(165),I=n(133),L=n(127),U=n.n(L),k=function(e){var t=e.input,n=Object(I.a)(e,["input"]);return Object(s.jsx)(A,Object(_.a)(Object(_.a)({},n),{},{children:Object(s.jsx)("textarea",Object(_.a)(Object(_.a)({},t),n))}))},A=function(e){var t=e.meta,n=e.children,a=t.touched&&t.error;return Object(s.jsxs)("div",{className:U.a.formControl+" "+(a?U.a.error:""),children:[Object(s.jsx)("div",{children:n}),a&&Object(s.jsx)("span",{children:t.error})]})},D=function(e){var t=e.input,n=Object(I.a)(e,["input"]);return Object(s.jsx)(A,Object(_.a)(Object(_.a)({},e),{},{children:Object(s.jsx)("input",Object(_.a)(Object(_.a)({},t),n))}))},F=function(e){if(!e)return"Field is required"},R=function(e){return function(t){if(t&&t.length>e)return"Max length ".concat(e," symbols")}},M=R(10),G=Object(C.a)({form:"dialogs"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,className:v.a.title_form,children:[Object(s.jsx)(y.a,{name:"dialogs",className:v.a.textarea,component:k,validate:[F,M]}),Object(s.jsx)("button",{className:"btn btn-success  ".concat(v.a.btn_dialog),children:"Add MES"})]})})),z=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:v.a.wrapper,children:[Object(s.jsx)(T,{dialogs:e.dialogs}),Object(s.jsx)("div",{className:v.a.line}),Object(s.jsx)(E,{messages:e.messages})]}),Object(s.jsx)("div",{className:v.a.textarea_head,children:Object(s.jsx)(G,{onSubmit:function(t){""!==t.dialogs.trim()&&e.callBackAddTask(t.dialogs)}})})]})},W=function(e){return function(t){return Object(g.d)((function(e){return e})).auth.isAuth?Object(s.jsx)(e,Object(_.a)({},t)):Object(s.jsx)(O.a,{to:"/login"})}},H=n(14),B=Object(g.b)((function(e){return{dialogs:e.dialogPage.dialogs,messages:e.dialogPage.messages}}),(function(e){return{callBackAddTask:function(t){""!==t.trim()&&e(function(e){return{type:"ADD-MES",message:e}}(t))}}})),K=Object(H.d)(B,W)(z),Y=n(171),J=n.n(Y),Z=n(71),Q=n(130),X=n.n(Q),V=function(e){var t=e.posts.map((function(e){var t=e.message,n=e.likeCount,a=e.id;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:X.a.item,children:[Object(s.jsx)("img",{alt:"ava",src:"https://million-wallpapers.ru/wallpapers/5/51/424703866779568/nejtiri-2017-avatara-2.jpg"}),Object(s.jsx)("span",{className:X.a.message,children:t})]}),Object(s.jsx)("div",{children:Object(s.jsxs)("span",{children:[" ",n," like "]})})]},a)}));return Object(s.jsx)("div",{children:t})},q=n(51),$=n.n(q),ee=R(10),te=c.a.memo((function(e){var t=Object(r.useState)(null),n=Object(Z.a)(t,2),a=n[0],c=n[1];return Object(s.jsxs)("div",{className:$.a.content,children:[Object(s.jsx)("div",{className:$.a.head,children:Object(s.jsxs)("div",{className:$.a.post,children:[Object(s.jsx)("span",{className:$.a.title,children:"My post"}),Object(s.jsx)(ne,{onSubmit:function(t){var n=t.myPosts,a=void 0===n?"":n;""!==a.trim()?(e.AddTask(a),c(null)):c("Title is required")}}),a&&Object(s.jsx)("div",{className:$.a.error,children:a})]})}),Object(s.jsx)(V,{posts:e.posts})]})})),ne=Object(C.a)({form:"myPosts"})((function(e){return Object(s.jsxs)("form",{className:$.a.input+" input-group mb-3",onSubmit:e.handleSubmit,children:[Object(s.jsx)(y.a,{type:"text",className:"form-control",name:"myPosts",component:k,validate:[F,ee],placeholder:"test"}),Object(s.jsx)("div",{className:"input-group-append d-flex",children:Object(s.jsx)("button",{className:"btn btn-success "+$.a.btnForm,children:"Add Post"})})]})})),ae=te,se=n(22),re=n.n(se),ce=n(106),oe=n.n(ce),ie=function(){for(var e=[],t=1;t<21;t++)e.push({"--i":t});return Object(s.jsx)(c.a.Fragment,{children:Object(s.jsx)("section",{className:oe.a.my_loader,children:Object(s.jsx)("div",{className:oe.a.loader,children:e.map((function(e,t){return Object(s.jsx)("span",{style:e,className:oe.a.loader_span},t)}))})})})},le=function(e){var t=Object(r.useState)(!1),n=Object(Z.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(e.status),i=Object(Z.a)(o,2),l=i[0],u=i[1],j=Object(r.useState)(l),d=Object(Z.a)(j,2),b=d[0],O=d[1];return Object(s.jsx)("div",{children:a?Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",value:b,onChange:function(e){return function(e){O(e.currentTarget.value)}(e)},onKeyDown:function(e){return function(e){"Enter"===e.key&&c(!1)}(e)},onBlur:function(){e.updateStatus(b),c(!1),u(b)}})}):Object(s.jsx)("div",{children:Object(s.jsx)("span",{onDoubleClick:function(){c(!0)},children:l})})})},ue=function(e){if(console.log(e),console.log(e.status),!e.profile)return Object(s.jsx)(ie,{});if(e.loading)return Object(s.jsx)(ie,{});var t=e.profile,n=t.fullName,a=t.photos,r=t.aboutMe,c=t.contacts,o=t.lookingForAJob,i=t.lookingForAJobDescription;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(le,{status:e.status,updateStatus:e.updateStatus}),Object(s.jsxs)("div",{className:re.a.user,children:[Object(s.jsx)("div",{className:re.a.avatar_wrapper,children:Object(s.jsx)("div",{className:re.a.avatar,children:Object(s.jsx)("img",{src:a.small,alt:"avatar"})})}),Object(s.jsxs)("div",{className:re.a.user_prof,children:[Object(s.jsx)("div",{className:re.a.name,children:n}),Object(s.jsx)("div",{className:re.a.status,children:r}),Object(s.jsxs)("div",{className:re.a.desc,children:[Object(s.jsxs)("div",{className:re.a.contact,children:[Object(s.jsx)("div",{className:re.a.contact_title,children:"facebook:"}),Object(s.jsx)("div",{className:re.a.contact_descr,children:c.facebook})]}),Object(s.jsxs)("div",{className:re.a.contact,children:[Object(s.jsx)("div",{className:re.a.contact_title,children:"vk:"}),Object(s.jsx)("div",{className:re.a.contact_descr,children:c.vk})]}),Object(s.jsxs)("div",{className:re.a.jobs,children:[Object(s.jsxs)("div",{className:re.a.jobs_wrapper,children:[Object(s.jsx)("div",{className:re.a.jobs_title,children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(s.jsx)("div",{className:re.a.jobs_bull,children:o?"\u0418\u0429\u0423":"\u041d\u0415\u0422"})]}),Object(s.jsx)("div",{className:re.a.jobs_desr,children:i})]})]})]})]})]})},je=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;console.log(e),e||(e=this.props.isAuth.data.id?this.props.isAuth.data.id.toString():"13024"),this.props.SetUserProfileThunk(e),this.props.setProfileStatusThunk(e)}},{key:"render",value:function(){return this.props.loading?Object(s.jsx)(ie,{}):Object(s.jsxs)("div",{className:J.a.content,children:[Object(s.jsx)(ue,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateProfileStatusThunk,loading:this.props.loading}),Object(s.jsx)(ae,Object(_.a)({},this.props))]})}}]),n}(r.Component),de=n(40),be=n.n(de),Oe=n(85),pe=n(172),_e={withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"34263072-624d-43a5-8a5f-75afa7ad4af4"}},fe=n.n(pe).a.create(_e),he={getUsers:function(){var e=Object(Oe.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.get("users?page=".concat(t,"&count=").concat(n)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Unfollow:function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.delete("follow/".concat(t)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Follow:function(){var e=Object(Oe.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.post("follow/".concat(t),n).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),authMe:function(){var e=Object(Oe.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.get("auth/me").then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),login:function(e,t,n){return fe.post("auth/login",{email:e,password:t,rememberMy:n}).then((function(e){return e}))},logOut:function(){return fe.delete("auth/login").then((function(e){return e}))}},me=function(e){return fe.get("profile/".concat(e)).then((function(e){return e.data}))},ge=function(e){return fe.get("profile/status/".concat(e)).then((function(e){return e}))},xe=function(e){return fe.put("profile/status",{status:e}).then((function(e){return e}))},ve=he;!function(e){e.ADD_POST="SOC/PROFILE/ADD_POST",e.SET_USER="SOC/PROFILE/SET_USER",e.SET_PROFILE_STATUS="SET_PROFILE_STATUS",e.SET_PROFILE_LOADING="SET_PROFILE_LOADING"}(a||(a={}));var Se,Pe={posts:[{id:Object(f.a)(),message:"Hi, how you",likeCount:2},{id:Object(f.a)(),message:"Bro learn React",likeCount:5},{id:Object(f.a)(),message:"Blooo",likeCount:1},{id:Object(f.a)(),message:"Learn run",likeCount:14}],profile:void 0,newPostText:"hello",status:"",loading:!1},Te=function(e){return{type:a.SET_PROFILE_STATUS,status:e}},we=function(e){return{type:a.SET_PROFILE_LOADING,loading:e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case a.ADD_POST:var n={id:Object(f.a)(),message:t.value,likeCount:0};return Object(_.a)(Object(_.a)({},e),{},{posts:[].concat(Object(p.a)(e.posts),[n])});case a.SET_USER:return Object(_.a)(Object(_.a)({},e),{},{profile:t.profile});case a.SET_PROFILE_STATUS:return Object(_.a)(Object(_.a)({},e),{},{status:t.status});case a.SET_PROFILE_LOADING:return Object(_.a)(Object(_.a)({},e),{},{loading:t.loading});default:return e}},Ee=Object(g.b)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth,loading:e.profilePage.loading}}),{AddTask:function(e){return{type:a.ADD_POST,value:e}},SetUserProfileThunk:function(e){return function(t){t(we(!0)),me(e).then((function(e){var n;console.log(e),t(we(!1)),t((n=e,{type:a.SET_USER,profile:n}))}))}},setProfileStatusThunk:function(e){return function(t){t(we(!0)),ge(e).then((function(e){console.log(e),t(Te(e.data)),t(we(!1))}))}},updateProfileStatusThunk:function(e){return function(t){t(we(!0)),xe(e).then((function(n){0===n.data.resultCode&&(t(we(!1)),t(Te(e)))}))}}}),ye=Object(H.d)(Ee,O.g)(je);!function(e){e.FOLLOW="SOC/FOLLOW",e.UNFOLLOW="SOC/UNFOLLOW",e.SET_USERS="SOC/SET_USERS",e.SET_TOTAL_COUNT="SOC/SET_TOTAL_COUNT",e.SET_CURRENT_PAGE="SOC/SET_CURRENT_PAGE",e.TOGGLE_LOADING="SOC/TOGGLE_LOADING",e.TOGGLE_FOLLOW_PROGRESS="SOC/TOGGLE_FOLLOW_PROGRESS"}(Se||(Se={}));var Ce,Ie={users:[],pageSize:8,totalUsersCount:50,currentPage:1,loading:!0,followIsProgress:[]},Le=function(e){return{type:Se.TOGGLE_LOADING,loading:e}},Ue=function(e,t){return{type:Se.TOGGLE_FOLLOW_PROGRESS,userId:e,loading:t}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.FOLLOW:return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id!==t.userId?e:Object(_.a)(Object(_.a)({},e),{},{followed:!0})}))});case Se.UNFOLLOW:return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id!==t.userId?e:Object(_.a)(Object(_.a)({},e),{},{followed:!1})}))});case Se.SET_USERS:return Object(_.a)(Object(_.a)({},e),{},{users:Object(p.a)(t.users)});case Se.SET_TOTAL_COUNT:return Object(_.a)(Object(_.a)({},e),{},{totalUsersCount:t.totalCount});case Se.SET_CURRENT_PAGE:return Object(_.a)(Object(_.a)({},e),{},{currentPage:t.currentPage});case Se.TOGGLE_LOADING:return Object(_.a)(Object(_.a)({},e),{},{loading:t.loading});case Se.TOGGLE_FOLLOW_PROGRESS:return Object(_.a)(Object(_.a)({},e),{},{followIsProgress:t.loading?[].concat(Object(p.a)(e.followIsProgress),[t.userId]):e.followIsProgress.filter((function(e){return e!==t.userId}))});default:return e}},Ae=n(28),De=n.n(Ae),Fe=n.p+"static/media/react-javascript-library-redux-user-interface-tesseract.61a13b87.jpg",Re=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);return Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsx)("div",{className:De.a.list_users,children:n.map((function(t,n){return Object(s.jsx)("span",{className:e.currentPage===t?De.a.selectPage:"",onClick:function(){e.onPageChanged&&e.onPageChanged(t)},children:t},t+n+Math.random())}))}),e.users.map((function(t){return Object(s.jsx)("div",{className:De.a.Users,children:Object(s.jsxs)("div",{className:De.a.Users_item,children:[Object(s.jsxs)("div",{className:De.a.img_wrapper,children:[Object(s.jsx)("div",{className:De.a.img,children:Object(s.jsx)(b.c,{to:"/profile/"+t.id,children:Object(s.jsx)("img",{src:null!==t.photos.small?t.photos.small:Fe,alt:"ava"})})}),Object(s.jsx)("div",{className:De.a.follow,children:t.followed?Object(s.jsx)("button",{disabled:e.followIsProgress.some((function(e){return e===t.id})),onClick:function(){return e.unFollowThunk(t.id)},children:"Unfollow"}):Object(s.jsx)("button",{disabled:e.followIsProgress.some((function(e){return e===t.id})),onClick:function(){return e.followThunk(t.id)},children:"Follow"})})]}),Object(s.jsxs)("div",{className:De.a.mes_wrapper,children:[Object(s.jsxs)("div",{className:De.a.name_wrapper,children:[Object(s.jsx)("div",{className:De.a.name,children:t.name}),Object(s.jsx)("div",{className:De.a.status,children:t.status})]}),Object(s.jsxs)("div",{className:De.a.city_wrapper,children:[Object(s.jsx)("div",{className:De.a.country}),Object(s.jsx)("div",{className:De.a.city})]})]})]})},t.id)}))]})},Me=n(173),Ge=function(e){return e.usersPage.pageSize},ze=function(e){return e.usersPage.totalUsersCount},We=function(e){return e.usersPage.currentPage},He=function(e){return e.usersPage.loading},Be=function(e){return e.usersPage.followIsProgress},Ke=Object(Me.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Ye=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){var n=e.props;(0,n.getUsers)(n.pageSize,t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getUsers)(e.pageSize,e.currentPage)}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.totalUsersCount,a=e.pageSize,r=e.currentPage,c=e.loading,o=e.followIsProgress,i=e.followThunk,l=e.unFollowThunk;return Object(s.jsx)(s.Fragment,{children:c?Object(s.jsx)(ie,{}):Object(s.jsx)(Re,Object(_.a)(Object(_.a)({},this.props),{},{users:t,totalUsersCount:n,pageSize:a,currentPage:r,onPageChanged:this.onPageChanged,followIsProgress:o,loading:c,unFollowThunk:l,followThunk:i}))})}}]),n}(r.Component),Je=Object(g.b)((function(e){return{users:Ke(e),pageSize:Ge(e),totalUsersCount:ze(e),currentPage:We(e),loading:He(e),followIsProgress:Be(e)}}),{followThunk:function(e){return function(t){t(Ue(e,!0)),ve.Follow(e,{}).then((function(n){0===n.resultCode&&(t(function(e){return{type:Se.FOLLOW,userId:e}}(e)),t(Ue(e,!1)))}))}},unFollowThunk:function(e){return function(t){t(Ue(e,!0)),ve.Unfollow(e).then((function(n){0===n.resultCode&&(t(function(e){return{type:Se.UNFOLLOW,userId:e}}(e)),t(Ue(e,!1)))}))}},getUsers:function(e,t){return function(n){n(Le(!0)),n(function(e){return{type:Se.SET_CURRENT_PAGE,currentPage:e}}(t)),ve.getUsers(t,e).then((function(e){var t;n((t=e.items,{type:Se.SET_USERS,users:t})),n(Le(!1))}))}}}),Ze=Object(H.d)(Je,W)(Ye),Qe=n(107),Xe=n.n(Qe),Ve=n(65);!function(e){e.SET_USER_DATA="SOC/AUTH/SET_USER_DATA"}(Ce||(Ce={}));var qe,$e={resultCode:null,messages:[],data:{id:null,email:"",login:""},isAuth:!1},et=function(e,t){return{type:Ce.SET_USER_DATA,data:e,isAuth:t}},tt=function(e){return function(t){return ve.authMe().then((function(n){0===n.resultCode&&t(et(n.data,e))}))}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce.SET_USER_DATA:return Object(_.a)(Object(_.a)({},e),{},{data:Object(_.a)({},t.data),isAuth:t.isAuth});default:return e}},at=n(352),st=function(e){var t=e.auth,n=t.isAuth,a=t.data,r=Object(g.c)();return Object(s.jsx)(s.Fragment,{children:n?Object(s.jsxs)("div",{className:Xe.a.login_block,children:[Object(s.jsx)("div",{className:Xe.a.login_name,children:a.login}),Object(s.jsx)("div",{className:Xe.a.log_out,children:Object(s.jsxs)(b.c,{to:"/",onClick:function(){r((function(e){ve.logOut().then((function(t){0===t.data.resultCode&&e(et(t.data,!1))}))}))},children:[" ",Object(s.jsx)(at.a,{})]})})]}):Object(s.jsx)(b.c,{to:"/login",children:"Login "})})},rt=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(st,{auth:this.props.auth})}}]),n}(r.Component),ct=Object(g.b)((function(e){return{auth:e.auth}}),{SetUserDataThunk:tt})(rt),ot=Object(C.a)({form:"login"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)(y.a,{name:"email",type:"text",component:D,placeholder:"Username",validate:[F]})}),Object(s.jsx)("div",{children:Object(s.jsx)(y.a,{component:D,placeholder:"Password",name:"password",validate:[F]})}),Object(s.jsxs)("div",{children:[Object(s.jsx)(y.a,{type:"checkbox",component:D,name:"rememberMe"})," remember My"]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"Login"})})]})})),it=function(){var e=Object(g.d)((function(e){return e})).auth.isAuth,t=Object(g.c)();return e?Object(s.jsx)(O.a,{to:"/profile"}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Login"}),Object(s.jsx)(ot,{onSubmit:function(e){var n,a,s;t((n=e.email,a=e.password,s=e.rememberMe,function(e){ve.login(n,a,s).then((function(t){if(0===t.data.resultCode)e(tt(!0));else{var n=Object(Ve.a)("login",{email:"Email is wrong"});e(n)}}))}))}})]})};!function(e){e.SET_INITIALIZED="SOC/APP/SET_INITIALIZED"}(qe||(qe={}));var lt={initialized:!1},ut=(n(343),n(344),n(349)),jt=n(350),dt=n(353),bt=n(354),Ot=n(355),pt=n(356),_t=n(357),ft=ut.a.Header,ht=ut.a.Sider,mt=ut.a.Content,gt=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={collapsed:!1},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.InitializeApp&&this.props.InitializeApp()}},{key:"render",value:function(){var e=this;return this.props.initialized?Object(s.jsxs)(ut.a,{children:[Object(s.jsxs)(ht,{trigger:Object(s.jsx)(dt.a,{onClick:function(){return e.toggle()}}),collapsible:!0,collapsed:this.state.collapsed,children:[Object(s.jsx)("div",{className:"img_wrapper",children:Object(s.jsxs)(b.b,{to:"/profile",children:[Object(s.jsx)("img",{alt:"aca",className:"img_header",src:"https://dcassetcdn.com/design_img/718794/445771/445771_4394919_718794_image.png"}),"Social net"]})}),Object(s.jsxs)(jt.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"],children:[Object(s.jsx)(jt.a.Item,{icon:Object(s.jsx)(bt.a,{}),children:Object(s.jsx)(b.b,{to:"/profile",children:"Profile"})},"1"),Object(s.jsx)(jt.a.Item,{icon:Object(s.jsx)(Ot.a,{}),children:Object(s.jsx)(b.b,{to:"/dialogs/",children:"Dialog"})},"2"),Object(s.jsx)(jt.a.Item,{icon:Object(s.jsx)(pt.a,{}),children:Object(s.jsx)(b.b,{to:"/users",children:"Users"})},"3")]})]}),Object(s.jsxs)(ut.a,{className:"site-layout",children:[Object(s.jsxs)(ft,{className:"site-layout-background header_app",style:{background:"#f0f2f5"},children:[c.a.createElement(this.state.collapsed?_t.a:dt.a,{className:"trigger",onClick:this.toggle}),Object(s.jsx)(ct,{})]}),Object(s.jsx)(mt,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:"80vh"},children:Object(s.jsxs)(O.d,{children:[Object(s.jsx)(O.b,{path:"/profile/:userId?",render:function(){return Object(s.jsx)(ye,{})}}),Object(s.jsx)(O.b,{path:"/dialogs/:id?",exact:!0,render:function(){return Object(s.jsx)(K,{})}}),Object(s.jsx)(O.b,{path:"/users",exact:!0,render:function(){return Object(s.jsx)(Ze,{})}}),Object(s.jsx)(O.b,{path:"/login",exact:!0,render:function(){return Object(s.jsx)(it,{})}})]})})]})]}):Object(s.jsx)(ie,{})}}]),n}(c.a.Component),xt=Object(g.b)((function(e){return{initialized:e.app.initialized}}),{InitializeApp:function(){return function(e){var t=e(tt(!0));console.log(t),t.then((function(){e({type:qe.SET_INITIALIZED}),console.log(t)}))}}}),vt=Object(H.d)(xt,O.g)(gt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St=n(183),Pt=n(166),Tt=Object(H.c)({profilePage:Ne,dialogPage:m,usersPage:ke,auth:nt,form:Pt.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.SET_INITIALIZED:return Object(_.a)(Object(_.a)({},e),{},{initialized:!0});default:return e}}}),wt=Object(H.e)(Tt,Object(H.a)(St.a));window.store=wt;var Nt=wt;i.a.render(Object(s.jsx)(b.a,{basename:"/SocialNetwork",children:Object(s.jsx)(g.a,{store:Nt,children:Object(s.jsx)(vt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,n){e.exports={post:"MyPosts_post__2d6KM",title:"MyPosts_title__kOzA7",content:"MyPosts_content__3W93T",error:"MyPosts_error__wyIjM",input:"MyPosts_input__1PS19",head:"MyPosts_head__SlPhj",btnForm:"MyPosts_btnForm__3-Uoc"}},62:function(e,t,n){e.exports={wrapper:"Dialogs_wrapper__3DFPZ",line:"Dialogs_line__2Jz-2",textarea_head:"Dialogs_textarea_head__31C41",textarea:"Dialogs_textarea__2IGEV",btn_dialog:"Dialogs_btn_dialog__3EOTv",title_form:"Dialogs_title_form__1KC3r"}},63:function(e,t,n){e.exports={wrap:"ChatMessage_wrap__1DA27",message:"ChatMessage_message__2fsJR",person_img:"ChatMessage_person_img__3iCJP",person:"ChatMessage_person__vHDMl",person_title:"ChatMessage_person_title__1mL7w",text:"ChatMessage_text__zYD5d"}},84:function(e,t,n){e.exports={item:"UsersDialog_item__-5p4Z",names:"UsersDialog_names__3L9cf",avatar:"UsersDialog_avatar__1p6JF"}}},[[346,1,2]]]);
//# sourceMappingURL=main.1a7f1292.chunk.js.map